
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Калькулятор трансформатора</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>
<body class="bg-light text-dark">
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="#">Трансформатор</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link active" href="{{ url_for('index') }}">Головна</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('details') }}">Розширені розрахунки</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container py-4">
    <h1 class="mb-4">Калькулятор трансформатора (Розділ 1)</h1>
    <form method="post" class="row g-3">
        <div class="col-md-2">
            <label class="form-label">Потужність S, кВА</label>
            <input class="form-control" name="S" value="2500" required>
        </div>
        <div class="col-md-2">
            <label class="form-label">Кількість фаз m</label>
            <input class="form-control" name="m" value="3" required>
        </div>
        <div class="col-md-2">
            <label class="form-label">U1, В</label>
            <input class="form-control" name="U1" value="11000" required>
        </div>
        <div class="col-md-2">
            <label class="form-label">U2, В</label>
            <input class="form-control" name="U2" value="13800" required>
        </div>
        <div class="col-md-2">
            <label class="form-label">uк, %</label>
            <input class="form-control" name="uk" value="6.5" required>
        </div>
        <div class="col-md-2">
            <label class="form-label">pк, Вт</label>
            <input class="form-control" name="pk" value="25000" required>
        </div>
        <div class="col-12">
            <button class="btn btn-primary" type="submit">Розрахувати</button>
        </div>
    </form>

    {% if result %}
    <div class="mt-5">
        <h3>Результати розрахунку</h3>
        <div class="bg-white p-4 shadow-sm rounded">
            <p>$$ S_ф = \frac{S \cdot 10^3}{m} = {{ result.Sf }} \, \text{ВА} $$</p>
            <p>$$ I_1 = \frac{S \cdot 10^3}{\sqrt{3} \cdot U_1} = {{ result.I1 }} \, \text{А} $$</p>
            <p>$$ I_2 = \frac{S \cdot 10^3}{\sqrt{3} \cdot U_2} = {{ result.I2 }} \, \text{А} $$</p>
            <p>$$ U_{ф2} = \frac{U_2}{\sqrt{3}} = {{ result.Uf2 }} \, \text{В} $$</p>
            <p>$$ u_a = \frac{p_k}{10 \cdot S} = {{ result.ua }} \, \% $$</p>
            <p>$$ u_r = \sqrt{u_k^2 - u_a^2} = {{ result.ur }} \, \% $$</p>
        </div>

        <h4 class="mt-4">Формули з розділу 2</h4>
        <div class="bg-white p-4 shadow-sm rounded">
            <p>$$ d = A \cdot \sqrt[4]{\beta} $$</p>
            <p>$$ d_{12} = a \cdot d $$</p>
            <p>$$ l = \frac{\pi \cdot d_{12}}{\beta} $$</p>
            <p>$$ C = d_{12} + a_{12} + a_{22} + b \cdot d $$</p>
            <p>$$ u_в = 4.44 \cdot f \cdot \pi_c \cdot B_c $$</p>
        </div>
    </div>
    {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
